<?xml version="1.0" encoding="UTF-8"?>
<!-- 

 * Copyright (c) 2014 LabKey Corporation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.

 -->
<ns:tables xmlns:ns="http://labkey.org/data/xml">
  <ns:table tableName="Labs" tableDbType="TABLE">
    <ns:columns>
      <ns:column columnName="Id"/>
      <ns:column columnName="PI"/>
      <ns:column columnName="Description"/>
        <ns:column columnName="Container">
          <ns:isKeyField>false</ns:isKeyField>
        </ns:column>
        <ns:column columnName="Institution"/>
        <ns:column columnName="Location"/>
    </ns:columns>
  </ns:table>
  <ns:table tableName="DataSources" tableDbType="TABLE">
      <ns:description>External datasources used to populate datasets in the CDS study.</ns:description>
    <ns:columns>
      <ns:column columnName="Container">
                <ns:isKeyField>false</ns:isKeyField>
              </ns:column>
      <ns:column columnName="RowId"/>
      <ns:column columnName="SourceContainer"/>
      <ns:column columnName="QueryName"/>
      <ns:column columnName="SchemaName"/>
      <ns:column columnName="ViewName"/>
      <ns:column columnName="TargetDatasetId">
        <ns:fk>
          <ns:fkColumnName>DataSetId</ns:fkColumnName>
          <ns:fkTable>DataSets</ns:fkTable>
          <ns:fkDbSchema>study</ns:fkDbSchema>
        </ns:fk>
      </ns:column>
      <ns:column columnName="Lab">
        <ns:fk>
          <ns:fkColumnName>Id</ns:fkColumnName>
          <ns:fkTable>Labs</ns:fkTable>
          <ns:fkDbSchema>cds</ns:fkDbSchema>
        </ns:fk>
      </ns:column>
      <ns:column columnName="Assay">
        <ns:fk>
          <ns:fkColumnName>Id</ns:fkColumnName>
          <ns:fkTable>Assays</ns:fkTable>
          <ns:fkDbSchema>cds</ns:fkDbSchema>
        </ns:fk>
      </ns:column>
      <ns:column columnName="Contact">
        <ns:fk>
          <ns:fkColumnName>Id</ns:fkColumnName>
          <ns:fkTable>People</ns:fkTable>
          <ns:fkDbSchema>cds</ns:fkDbSchema>
        </ns:fk>
      </ns:column>
      <ns:column columnName="Batch"/>
    </ns:columns>
  </ns:table>
  <ns:table tableName="Facts" tableDbType="TABLE">
    <ns:columns>
      <ns:column columnName="ParticipantId">
          <ns:fk>
            <ns:fkColumnName>SubjectId</ns:fkColumnName>
            <ns:fkTable>Demographics</ns:fkTable>
            <ns:fkDbSchema>study</ns:fkDbSchema>
          </ns:fk>
      </ns:column>
        <ns:column columnName="Day">
        </ns:column>
        <ns:column columnName="Assay">
          <ns:fk>
            <ns:fkColumnName>Name</ns:fkColumnName>
            <ns:fkTable>StudyDesignAssays</ns:fkTable>
            <ns:fkDbSchema>study</ns:fkDbSchema>
          </ns:fk>
        </ns:column>
        <ns:column columnName="Lab">
          <ns:fk>
            <ns:fkColumnName>Name</ns:fkColumnName>
            <ns:fkTable>StudyDesignLabs</ns:fkTable>
            <ns:fkDbSchema>study</ns:fkDbSchema>
          </ns:fk>
        </ns:column>
      <ns:column columnName="Antigen">
        <ns:fk>
          <ns:fkColumnName>Id</ns:fkColumnName>
          <ns:fkTable>Antigens</ns:fkTable>
          <ns:fkDbSchema>cds</ns:fkDbSchema>
        </ns:fk>
      </ns:column>

      <ns:column columnName="Study">
        <ns:fk>
          <ns:fkColumnName>Container</ns:fkColumnName>
          <ns:fkTable>StudyProperties</ns:fkTable>
          <ns:fkDbSchema>study</ns:fkDbSchema>
        </ns:fk>
      </ns:column>
      <ns:column columnName="Container">
                <ns:isKeyField>false</ns:isKeyField>
              </ns:column>
    </ns:columns>
  </ns:table>
    <ns:table tableName="Feedback" tableDbType="TABLE">
        <ns:description>User provided feedback.</ns:description>
        <ns:columns>
            <ns:column columnName="RowId"/>
            <ns:column columnName="Container">
                <ns:isKeyField>false</ns:isKeyField>
            </ns:column>
            <ns:column columnName="Description"/>
            <ns:column columnName="State"/>
            <ns:column columnName="CreatedBy"/>
            <ns:column columnName="Created"/>
            <ns:column columnName="ModifiedBy"/>
            <ns:column columnName="Modified"/>
        </ns:columns>
    </ns:table>
  <ns:table tableName="Studies" tableDbType="TABLE">
      <ns:description>Description of the study for CDS purposes. Doesn't require source study to be in the database.</ns:description>
    <ns:columns>
        <ns:column columnName="Container">
          <ns:isKeyField>false</ns:isKeyField>
        </ns:column>
      <ns:column columnName="StudyName"/>
      <ns:column columnName="AltTitle"/>
      <ns:column columnName="Description"/>
      <ns:column columnName="StartDate"/>
      <ns:column columnName="EndDate"/>
      <ns:column columnName="Phase"/>
      <ns:column columnName="Treatments"/>
      <ns:column columnName="PI1">
        <ns:fk>
          <ns:fkColumnName>Id</ns:fkColumnName>
          <ns:fkTable>People</ns:fkTable>
          <ns:fkDbSchema>cds</ns:fkDbSchema>
        </ns:fk>
      </ns:column>
      <ns:column columnName="PI2">
        <ns:fk>
          <ns:fkColumnName>Id</ns:fkColumnName>
          <ns:fkTable>People</ns:fkTable>
          <ns:fkDbSchema>cds</ns:fkDbSchema>
        </ns:fk>
      </ns:column>
      <ns:column columnName="Contact">
        <ns:fk>
          <ns:fkColumnName>Id</ns:fkColumnName>
          <ns:fkTable>People</ns:fkTable>
          <ns:fkDbSchema>cds</ns:fkDbSchema>
        </ns:fk>
      </ns:column>
      <ns:column columnName="Type">
          <ns:dimension>true</ns:dimension>
      </ns:column>
      <ns:column columnName="Network">
	  <ns:dimension>true</ns:dimension>
      </ns:column>
    </ns:columns>
  </ns:table>
  <ns:table tableName="People" tableDbType="TABLE">
    <ns:columns>
      <ns:column columnName="Id"/>
      <ns:column columnName="Email"/>
      <ns:column columnName="FullName"/>
      <ns:column columnName="ForeName"/>
      <ns:column columnName="LastName"/>
      <ns:column columnName="Initials"/>
      <ns:column columnName="LabId">
          <ns:fk>
            <ns:fkColumnName>Id</ns:fkColumnName>
            <ns:fkTable>Labs</ns:fkTable>
            <ns:fkDbSchema>cds</ns:fkDbSchema>
          </ns:fk>
        </ns:column>

      <ns:column columnName="Role"/>
      <ns:column columnName="Description"/>
        <ns:column columnName="Container">
          <ns:isKeyField>false</ns:isKeyField>
        </ns:column>
      <ns:column columnName="PictureFile"/>
    </ns:columns>
  </ns:table>
  <ns:table tableName="Assays" tableDbType="TABLE">
      <ns:description>Additional information about an assay. Can point to a dataset id that corresponds to assay data.</ns:description>
    <ns:columns>
      <ns:column columnName="Id"/>
      <ns:column columnName="AltName"/>
      <ns:column columnName="Caption"/>
        <ns:column columnName="LabId">
            <ns:dimension>true</ns:dimension>
            <ns:fk>
              <ns:fkColumnName>Id</ns:fkColumnName>
              <ns:fkTable>Labs</ns:fkTable>
              <ns:fkDbSchema>cds</ns:fkDbSchema>
            </ns:fk>
          </ns:column>
        <ns:column columnName="DatasetId">
          <ns:fk>
            <ns:fkColumnName>DataSetId</ns:fkColumnName>
            <ns:fkTable>DataSet</ns:fkTable>
            <ns:fkDbSchema>study</ns:fkDbSchema>
          </ns:fk>
        </ns:column>
        <ns:column columnName="Description"/>
        <ns:column columnName="Container">
          <ns:isKeyField>false</ns:isKeyField>
        </ns:column>
        <ns:column columnName="LeadContributor">
	 <ns:fk>
          <ns:fkColumnName>Id</ns:fkColumnName>
          <ns:fkTable>People</ns:fkTable>
          <ns:fkDbSchema>cds</ns:fkDbSchema>	          </ns:fk>
        </ns:column>
        <ns:column columnName="Contact">
		 <ns:fk>
	          <ns:fkColumnName>Id</ns:fkColumnName>
	          <ns:fkTable>People</ns:fkTable>
	          <ns:fkDbSchema>cds</ns:fkDbSchema>	          </ns:fk>
        </ns:column>
	<ns:column columnName="AssayAbstract"/>
	<ns:column columnName="RelatedPublications"/>
	<ns:column columnName="TargetArea">
            <ns:dimension>true</ns:dimension>
        </ns:column>
	<ns:column columnName="Methodology">
            <ns:dimension>true</ns:dimension>
        </ns:column>
        <ns:column columnName="DatasetName"/>
        <ns:column columnName="SystemTarget"/>
        <ns:column columnName="Type"/>
        <ns:column columnName="Platform"/>
        <ns:column columnName="Target"/>
        <ns:column columnName="TargetFunction"/>
    </ns:columns>
  </ns:table>
  <ns:table tableName="Antigens" tableDbType="TABLE">
    <ns:columns>
      <ns:column columnName="Container">
          <ns:isKeyField>false</ns:isKeyField>
      </ns:column>
      <ns:column columnName="Id">
        <ns:isKeyField>true</ns:isKeyField>
      </ns:column>
      <ns:column columnName="OtherNamesused"/>
      <ns:column columnName="Clade">
        <ns:dimension>true</ns:dimension>
      </ns:column>
      <ns:column columnName="Tier">
        <ns:dimension>true</ns:dimension>
      </ns:column>
      <ns:column columnName="CountryOfOrigin">
        <ns:dimension>true</ns:dimension>
      </ns:column>
      <ns:column columnName="Year"/>
      <ns:column columnName="StageOfInfection"/>
      <ns:column columnName="ModeOfTrans"/>
      <ns:column columnName="SpecimenSource"/>
      <ns:column columnName="NucleicAcidAmplificationMethod"/>
      <ns:column columnName="AccessionNumber"/>
      <ns:column columnName="CatNumber"/>
      <ns:column columnName="NucleotideSequence"/>
      <ns:column columnName="AminoacidSequence"/>
      <ns:column columnName="EnvCloneProvider"/>
      <ns:column columnName="ContributorsOfSourceSpecimen"/>
      <ns:column columnName="ContributingInstituteorNetwork"/>
      <ns:column columnName="Notes"/>
      <ns:column columnName="ShortDescription"/>
      <ns:column columnName="AntigenCategory"/>
      <ns:column columnName="AntigenType"/>
      <ns:column columnName="DonorID"/>
      <ns:column columnName="Family"/>
      <ns:column columnName="Group"/>
      <ns:column columnName="Region"/>
      <ns:column columnName="Mutations"/>
      <ns:column columnName="ConsensusVIsolate"/>
      <ns:column columnName="Protein"/>
      <ns:column columnName="Virus"/>
      <ns:column columnName="Purification"/>
      <ns:column columnName="Biotin"/>
      <ns:column columnName="Tag"/>
      <ns:column columnName="HostCell"/>
      <ns:column columnName="JournalReference"/>
      <ns:column columnName="ProviderName"/>
      <ns:column columnName="viruscategory"/>
      <ns:column columnName="pseudovirus_backbone"/>
      <ns:column columnName="Panel"/>
      <ns:column columnName="Description"/>
    </ns:columns>
  </ns:table>
    <ns:table tableName="Citable" tableDbType="TABLE">
      <ns:columns>
        <ns:column columnName="URI">
          <ns:isKeyField>true</ns:isKeyField>
        </ns:column>
        <ns:column columnName="CitableType"/>
        <ns:column columnName="Link"/>
        <ns:column columnName="Title"/>
        <ns:column columnName="Description"/>
          <ns:column columnName="Container">
              <ns:isKeyField>false</ns:isKeyField>
          </ns:column>
        <ns:column columnName="EntityId"/>
      </ns:columns>
      <ns:titleColumn>Title</ns:titleColumn>
    </ns:table>
    <ns:table tableName="Citations" tableDbType="TABLE">
      <ns:columns>
        <ns:column columnName="RowId">
          <ns:isKeyField>true</ns:isKeyField>
        </ns:column>
        <ns:column columnName="ObjectURI"/>
        <ns:column columnName="CitableURI">
          <ns:fk>
               <ns:fkColumnName>URI</ns:fkColumnName>
               <ns:fkTable>Citable</ns:fkTable>
               <ns:fkDbSchema>cds</ns:fkDbSchema>
          </ns:fk>
         </ns:column>
        <ns:column columnName="CitationType"/>
        <ns:column columnName="SortIndex"/>
          <ns:column columnName="Container">
              <ns:isKeyField>false</ns:isKeyField>
          </ns:column>
      </ns:columns>
    </ns:table>
    <ns:table tableName="CitableAuthors" tableDbType="TABLE">
      <ns:columns>
        <ns:column columnName="RowId">
            <ns:isKeyField>true</ns:isKeyField>
          </ns:column>
          <ns:column columnName="CitableURI">
            <ns:fk>
                 <ns:fkColumnName>URI</ns:fkColumnName>
                 <ns:fkTable>Citable</ns:fkTable>
                 <ns:fkDbSchema>cds</ns:fkDbSchema>
            </ns:fk>
           </ns:column>
        <ns:column columnName="AuthorId">
          <ns:fk>
               <ns:fkColumnName>Id</ns:fkColumnName>
               <ns:fkTable>People</ns:fkTable>
               <ns:fkDbSchema>cds</ns:fkDbSchema>
          </ns:fk>
        </ns:column>
        <ns:column columnName="AuthorType"/>
        <ns:column columnName="Contact"/>
        <ns:column columnName="SortIndex"/>
          <ns:column columnName="Container">
              <ns:isKeyField>false</ns:isKeyField>
          </ns:column>
      </ns:columns>
    </ns:table>
  <ns:table tableName="AssayPublications" tableDbType="TABLE">
      <ns:description>Publications relating to a particular assay.</ns:description>
    <ns:columns>
        <ns:column columnName="AssayID">
            <ns:dimension>false</ns:dimension>
            <ns:fk>
              <ns:fkColumnName>Name</ns:fkColumnName>
              <ns:fkTable>StudyDesignAssays</ns:fkTable>
              <ns:fkDbSchema>study</ns:fkDbSchema>
            </ns:fk>
          </ns:column>
        <ns:column columnName="PubMedID"/>
	<ns:column columnName="Link"/>
	<ns:column columnName="Title"/>
        <ns:column columnName="Description"/>
        <ns:column columnName="Container">
          <ns:isKeyField>false</ns:isKeyField>
        </ns:column>
        <ns:column columnName="RowId"/>
    <ns:column columnName="Type"/>
    </ns:columns>
  </ns:table>
  <ns:table tableName="Vaccines" tableDbType="TABLE">
        <ns:description>Vaccines used by the studies in the dataspace.</ns:description>
      <ns:columns>
        <ns:column columnName="VaccineName">
              <ns:dimension>true</ns:dimension>
        </ns:column>
        <ns:column columnName="Type"/>
        <ns:column columnName="Container">
            <ns:isKeyField>false</ns:isKeyField>
        </ns:column>
        <ns:column columnName="description"/>
        <ns:column columnName="class"/>
        <ns:column columnName="subclass"/>
        <ns:column columnName="developer"/>
        <ns:column columnName="production"/>
        <ns:column columnName="inserts"/>
        <ns:column columnName="toxicity_studies"/>
        <ns:column columnName="previous_trials"/>
      </ns:columns>
  </ns:table>
  <ns:table tableName="VaccineComponents" tableDbType="TABLE">
      <ns:description>Publications relating to a particular assay.</ns:description>
    <ns:columns>
        <ns:column columnName="VaccineName">
            <ns:dimension>false</ns:dimension>
            <ns:fk>
              <ns:fkColumnName>VaccineName</ns:fkColumnName>
              <ns:fkTable>Vaccines</ns:fkTable>
              <ns:fkDbSchema>cds</ns:fkDbSchema>
            </ns:fk>
          </ns:column>
        <ns:column columnName="VaccineComponent"/>
	<ns:column columnName="Type"/>
	<ns:column columnName="Clade"/>
        <ns:column columnName="Region"/>
        <ns:column columnName="Container">
          <ns:isKeyField>false</ns:isKeyField>
        </ns:column>
        <ns:column columnName="RowId"/>
    <ns:column columnName="description"/>
    <ns:column columnName="isolate"/>
    <ns:column columnName="GenBankID"/>
    </ns:columns>
  </ns:table>
    <ns:table tableName="Sites" tableDbType="TABLE">
        <ns:description>Sites used in Study Development.</ns:description>
        <ns:columns>
            <ns:column columnName="Id"/>
            <ns:column columnName="PI"/>
            <ns:column columnName="Description"/>
            <ns:column columnName="Container">
                <ns:isKeyField>false</ns:isKeyField>
            </ns:column>
            <ns:column columnName="Status"/>
            <ns:column columnName="Location"/>
            <ns:column columnName="AltName"/>
            <ns:column columnName="Network"/>
        </ns:columns>
    </ns:table>
    <ns:table tableName="Properties" tableDbType="TABLE">
        <ns:description>Collection of Application properties.</ns:description>
        <ns:columns>
            <ns:column columnName="RowId"/>
            <ns:column columnName="Container">
                <ns:isKeyField>false</ns:isKeyField>
            </ns:column>
            <ns:column columnName="PrimaryCount"/>
            <ns:column columnName="DataCount"/>
        </ns:columns>
    </ns:table>
</ns:tables>